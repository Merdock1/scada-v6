@page "/ru/latest/modules/mod-auto-control"
@{
    Layout = "_ArticleLayout";
    ViewBag.Title = "Модуль автоматического управления";
}

<nav class="doc-toc">
    <div class="h6">На этой странице</div>
    <hr>
    <ul>
        <li><a href="#overview">Обзор</a></li>
        <li><a href="#installation">Установка</a></li>
        <li><a href="#configuring">Конфигурирование</a></li>
        <li><a href="#triggers">Триггеры</a></li>
        <li><a href="#variables">Переменные</a></li>
    </ul>
</nav>

<div class="doc-content">
    <h1>Модуль автоматического управления</h1>
    <h2 id="overview">Обзор</h2>


    <h2 id="installation">Установка</h2>


    <h2 id="configuring">Конфигурирование</h2>


    <h2 id="triggers">Триггеры</h2>


    <h2 id="variables">Переменные</h2>
    <p>Строковые данные команд, которые отправляются при сработке триггеров, могут содержать переменные. Переменные записываются в фигурных скобках.</p>
    <p>Поддерживаются следующие переменные:</p>

    <table class="table table-hover">
        <thead>
            <tr>
                <th>Переменная</th>
                <th>Описание</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td colspan="2"><strong>Для триггеров всех типов</strong></td>
            </tr>
            <tr>
                <td>{n}</td>
                <td>Текущее значение канала n, форматированное, с размерностью. Если n = 0, используется канал триггера (если применимо)</td>
            </tr>
            <tr>
                <td>{Now}</td>
                <td>Текущие дата и время в часовом поясе сервера</td>
            </tr>
            <tr>
                <td>{NowUtc}</td>
                <td>Текущие дата и время UTC</td>
            </tr>
            <tr>
                <td>{Time}</td>
                <td>Время сработки триггера в часовом поясе сервера</td>
            </tr>
            <tr>
                <td>{TimeUtc}</td>
                <td>Время сработки триггера UTC</td>
            </tr>
            <tr>
                <td colspan="2"><strong>Для триггеров на данные канала</strong></td>
            </tr>
            <tr>
                <td>{CnlNum}</td>
                <td>Номер канала</td>
            </tr>
            <tr>
                <td>{CnlName}</td>
                <td>Наименование канала</td>
            </tr>
            <tr>
                <td>{ObjNum}</td>
                <td>Номер объекта</td>
            </tr>
            <tr>
                <td>{ObjName}</td>
                <td>Наименование объекта</td>
            </tr>
            <tr>
                <td>{DevNum}</td>
                <td>Номер устройства</td>
            </tr>
            <tr>
                <td>{DevName}</td>
                <td>Наименование устройства</td>
            </tr>
            <tr>
                <td>{LoLo}</td>
                <td>Нижняя аварийная граница канала</td>
            </tr>
            <tr>
                <td>{Low}</td>
                <td>Нижняя граница канала</td>
            </tr>
            <tr>
                <td>{High}</td>
                <td>Верхняя граница канала</td>
            </tr>
            <tr>
                <td>{HiHi}</td>
                <td>Верхняя аварийная граница канала</td>
            </tr>
            <tr>
                <td>{CnlVal}</td>
                <td>Значение канала, на котором сработал триггер</td>
            </tr>
            <tr>
                <td>{CnlStat}</td>
                <td>Статус канала, на котором сработал триггер</td>
            </tr>
            <tr>
                <td colspan="2"><strong>Для триггеров на события</strong></td>
            </tr>
            <tr>
                <td>{EvID}</td>
                <td>Идентификатор события</td>
            </tr>
            <tr>
                <td>{EvTime}</td>
                <td>Время события в часовом поясе сервера</td>
            </tr>
            <tr>
                <td>{EvObjNum}</td>
                <td>Номер объекта события</td>
            </tr>
            <tr>
                <td>{EvObj}</td>
                <td>Наименование объекта события</td>
            </tr>
            <tr>
                <td>{EvDevNum}</td>
                <td>Номер устройства события</td>
            </tr>
            <tr>
                <td>{EvDev}</td>
                <td>Наименование устройства события</td>
            </tr>
            <tr>
                <td>{EvCnlNum}</td>
                <td>Номер канала события</td>
            </tr>
            <tr>
                <td>{EvCnl}</td>
                <td>Наименование канала события</td>
            </tr>
            <tr>
                <td>{EvText}</td>
                <td>Отображаемый текст события</td>
            </tr>
            <tr>
                <td>{EvSev}</td>
                <td>Отображаемая серьёзность события</td>
            </tr>
            <tr>
                <td colspan="2"><strong>Для триггеров на команды</strong></td>
            </tr>
            <tr>
                <td>{CmdVal}</td>
                <td>Значение команды, на котором сработал триггер</td>
            </tr>
            <tr>
                <td>{CmdDataStr}</td>
                <td>Данные команды в строковом виде</td>
            </tr>
            <tr>
                <td>{CmdDataHex}</td>
                <td>Данные команды в 16-ричном виде</td>
            </tr>
        </tbody>
    </table>
</div>
